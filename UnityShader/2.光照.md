# 基础光照

## 光源

### 辐照度（irradiance）：

单位时间内垂直于单位面积上穿过的能量。

使用光源方向与表面法线之间的夹角的余弦值计算。

### 吸收（scattering）和散射（absorption）：

光线从光源发射出来以后，与物体相交，会产生两种结果：**吸收**和**散射**。

<u>散射只改变光线的方向，而不改变光线的密度和颜色</u>；

<u>吸收只改变光线的密度和颜色，而不改变光线的方向</u>。

### 折射与反射

光线在物体表面经过散射后，有两种方向：

散射到物体内部称为**折射**或**透射**；散射到物体外部，则被称为**反射**。

![image-20210801181204667](C:/Users/83597/AppData/Roaming/Typora/typora-user-images/image-20210801181204667.png)

对于不透明物体，折射进入物体内部的光线还会继续与内部的颗粒进行相交，其中一些光线最后会重新发射出物体表面，而另一些则被物体吸收。

### 着色（shading）

着色（shading）指的是，根据材质属性（如漫反射属性等）、光源信息（如光源方向、辐照度等），使用一个等式去计算沿某个观察方向的出射度的过程。我们也把这个等式称为光照模型（Lighting Model）。

### BRDF光照模型（Bidirectional Reflectance Distribution Function）

通俗来讲，当给定入射光线的方向和辐照度后，BRDF可以给出在某个出射方向上的光照能量分布。

## 标准光照模型

标准光照模型只关心直接光照（direct light），也就是那些直接从光源发射出来照射到物体表面后，经过物体表面的一次反射直接进入摄像机的光线。

它的基本方法是，把进入到摄像机内的光线分为4个部分，每个部分使用一种方法来计算它的贡献度。这4个部分是。

**·自发光（emissive）**

这个部分用于描述当给定一个方向时，一个表面本身会向该方向发射多少辐射量。

**·高光反射（specular）**

这个部分用于描述当光线从光源照射到模型表面时，该表面会在完全镜面反射方向散射多少辐射量。

**·漫反射（diffuse）**

这个部分用于描述，当光线从光源照射到模型表面时，该表面会向每个方向散射多少辐射量。

**·环境光（ambient）**

它用于描述其他所有的间接光照。

### 环境光

## 逐像素还是逐顶点

### 逐像素光照（per-pixel lighting）

在逐像素光照中，我们会以每个像素为基础，得到它的法线（可以是对顶点法线插值得到的，也可以是从法线纹理中采样得到的），然后进行光照模型的计算

### 逐顶点光照（per-vertex lighting）

在逐顶点光照中，我们在每个顶点上计算光照，然后会在渲染图元内部进行线性插值，最后输出成像素颜色。